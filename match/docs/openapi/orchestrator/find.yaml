post:
  operationId: "Find matches"
  tags:
    - "Match"
  summary: "Search for all matching participant records using de-identified data"
  description: "Searches all state databases for any participant records that are an exact match to the `lds_hash` of persons provided in the request."
  parameters:
    - in: header
      name: From
      schema:
        type: string
      description: "As in the HTTP/1.1 RFC, used for logging purposes as a means for identifying the source of invalid or unwanted requests. The interpretation of this field is that the request is being performed on behalf of the state government-affiliated person whose email address (or username) is specified here. It is not used for authentication or authorization."
  requestBody:
    $ref: '../schemas/match-query.yaml#/MatchRequest'
  responses:
    '200':
      description: "Successful response. Returns match response items."
      content:
        application/json:
          schema:
            $ref: '../schemas/match-query.yaml#/MatchResponse'
          examples:
            Single match:
              $ref: '../schemas/match-query.yaml#/MatchResponseExamples/Single'
            No matches:
              $ref: '../schemas/match-query.yaml#/MatchResponseExamples/None'
            Multiple matches:
              $ref: '../schemas/match-query.yaml#/MatchResponseExamples/Multiple'
            Multiple persons with matches:
              $ref: '../schemas/match-query.yaml#/MatchResponseExamples/MultipleRecords'
            Multiple persons with one match:
              $ref: '../schemas/match-query.yaml#/MatchResponseExamples/MultipleRecordsOneMatch'
            Multiple persons with errors:
              $ref: '../schemas/match-query.yaml#/MatchResponseExamples/MultipleRecordsOneError'
            Top-level error:
              $ref: '../schemas/match-query.yaml#/MatchResponseExamples/TopLevelError'
    '400':
      description: "Bad request. Request body does not match the required format."
